title: |-
  Artifact:Pull
summary: |
  Downloads an artifact available from a build's APPS & ARTIFACTS tab to make them available for use in the current workflow.
description: |
  The Step accesses artifacts from another build specified as the $PARENT_SLUG where artifacts generated by another Step gets stored.
website: https://github.com/DanielJette/bitrise-step-artifact-pull
source_code_url: https://github.com/DanielJette/bitrise-step-artifact-pull
support_url: https://github.com/DanielJette/bitrise-step-artifact-pull/issues
host_os_tags:
  - osx-10.10
  - ubuntu-16.04

type_tags:
  - utility

is_requires_admin_user: true
is_always_run: false
is_skippable: false
run_if: ""

deps:
  brew:
  - name: git
  - name: wget
  - name: jq
  apt_get:
  - name: git
  - name: wget

toolkit:
  bash:
    entry_file: step.sh

inputs:

  - access_token: "$BITRISE_KEY"
    opts: 
      title: "Access token to make Bitrise API calls"
      summary: "Access token to make Bitrise API calls"
      description: |
        Access token to make Bitrise API calls
      is_sensitive: true
      is_expand: true
      is_required: true

  - app_slug: "$BITRISE_APP_SLUG"
    opts:
      title: "The app for the project"
      summary: "The app for the project"
      description: |
        The app for the project. Defaults to BITRISE_APP_SLUG
      is_expand: true
      is_required: true

  - artifact_file: "$ARTIFACT_FILE"
    opts:
      title: "Name of the artifact to pull"
      summary: "Name of the artifact to pull"
      description: |
        Name of the artifact to pull. Defaults to ARTIFACT_FILE
      is_sensitive: false
      is_expand: true
      is_required: true

  - download_dir: artifacts
    opts:
      title: "Directory name to save the downloaded artifact"
      summary: "Directory name to save the downloaded artifact"
      description: |
        Directory name to save the downloaded artifact
        Subdirectory of `$BITRISE_SOURCE_DIR`
      is_expand: true
      is_required: true

  - source_build_slug: "$SOURCE_BUILD_SLUG"
    opts:
      title: "The build slug for the source build from which to copy the artifact"
      summary: "The build slug for the source build from which to copy the artifact"
      description: |
        The build slug for the source build from which to copy the artifact.
        Defaults to SOURCE_BUILD_SLUG
      is_sensitive: false
      is_expand: true
      is_required: true
